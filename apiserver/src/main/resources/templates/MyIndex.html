<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!-- 引入 Bootstrap -->
    <!-- 新 Bootstrap 核心 CSS 文件 -->
    <!--   <link  type="text/css" rel="stylesheet" href="/webjars/bootstrap/4.0.0/css/bootstrap.css">
       <script src="/webjars/jquery/3.3.1/jquery.js"></script>
       <script src="/webjars/bootstrap/4.0.0/js/bootstrap.js"></script>
       <meta name="viewport" content="width=device-width, initial-scale=1.0">
   -->
    <!-- 新 Bootstrap 核心 CSS 文件 -->
    <link href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">

    <!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
    <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>

    <!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
    <script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script  th:inline="javascript">
        var recentsize=[[${recentsize}]];
        console.log(recentsize);
        if(recentsize!=0){
            var recentlist=[[${recentlist}]];
            var scorelist=[[${scorelist}]];
            console.log(recentlist);
            $(document).ready(function() {
                for(var i=0;i<recentsize;i++){
                    var lis= $("#mvdiv"+i).children("ul").children("li");
                    lis[0].innerHTML="<a href='/moviedetail?mid="+recentlist[i].mid+"'>"+"<img alt='140x140'  height='240px' width='170px' class='img-rounded'  src='"+recentlist[i].spic+"'>";
                    lis[1].innerHTML="<a href='/moviedetail?mid="+recentlist[i].mid+"'>"+ "<span>"+recentlist[i].name+"</span></a>";
                    lis[2].innerHTML="导演："+recentlist[i].directors;
                    lis[3].innerHTML="演员："+recentlist[i].actors;
                    lis[4].innerHTML="制片国家/地区： "+recentlist[i].country;
                    lis[5].innerHTML="语言："+recentlist[i].language;
                    lis[6].innerHTML="编剧："+recentlist[i].writers;
                    lis[7].innerHTML="上映时间: "+recentlist[i].year;
                    lis[8].innerHTML="推荐度： "+scorelist[i];
                }
            }
            );
        }




    </script>
</head>
<body>

<nav class="navbar navbar-default" role="navigation">
    <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"> <span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button> <a class="navbar-brand" href="#">Brand</a>
    </div>

    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav">
            <li class="active">
                <a href="/typesearch">分类查找电影</a>
            </li>
            <li>
                <a href="#">Link</a>
            </li>
            <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown<strong class="caret"></strong></a>
                <ul class="dropdown-menu">
                    <li>
                        <a href="#">Action</a>
                    </li>
                    <li>
                        <a href="#">Another action</a>
                    </li>
                    <li>
                        <a href="#">Something else here</a>
                    </li>
                    <li class="divider">
                    </li>
                    <li>
                        <a href="#">Separated link</a>
                    </li>
                    <li class="divider">
                    </li>
                    <li>
                        <a href="#">One more separated link</a>
                    </li>
                </ul>
            </li>
        </ul>
        <form class="navbar-form navbar-left" role="search">
            <div class="form-group">
                <input type="text" class="form-control" />
            </div> <button type="submit" class="btn btn-default">Submit</button>
        </form>
        <ul class="nav navbar-nav navbar-right ">
            <li>
                <a href="#">Link</a>
            </li>
            <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown<strong class="caret"></strong></a>
                <ul class="dropdown-menu">
                    <li>
                        <a href="#">Action</a>
                    </li>
                    <li>
                        <a href="#">Another action</a>
                    </li>
                    <li>
                        <a href="#">Something else here</a>
                    </li>
                    <li class="divider">
                    </li>
                    <li>
                        <a href="#">Separated link</a>
                    </li>
                </ul>
            </li>
        </ul>
    </div>

</nav>
<div>
    <h2>离线推荐结果</h2>
</div>
<div class="container">
    <div class="row clearfix">
        <div class="col-md-3 column">
             <a th:href="'/moviedetail?mid='+${movielist[0].mid}"> <img alt="140x140"  height="240px" width="170px" class="img-rounded" th:src="${movielist[0].spic}"></a>
           <!--  <img class="layui-nav-img" th:src="${(user.avatarUrl != null && !#strings.isEmpty(user.avatarUrl)) ? '/asset/avatar/'+user.avatarUrl : '/asset/avatar/head_portrait2.png'}"/>
             <span th:text="${user.name}"></span>-->
            <ul class="list-unstyled" >
                <li>
                    <a th:href="'/moviedetail?mid='+${movielist[0].mid}"> <span th:text="${movielist[0].name}"></span></a>
                </li>
                <li>
                    导演：<span th:text="${movielist[0].directors}"></span>
                </li>
                <li>
                    演员：<span th:text="${movielist[0].actors}"></span>
                </li>
                <li>
                    制片国家/地区：<span th:text="${movielist[0].country}"></span>
                </li>
                <li>
                    语言：<span th:text="${movielist[0].language}"></span>
                </li>
                <li>
                    编剧：<span th:text="${movielist[0].writers}"></span>
                </li>
                <li>
                    上映时间：<span th:text="${movielist[0].year}"></span>
                </li>
                <li>
                    推荐度： <span th:text="${offlist[0]}"></span>
                </li>

            </ul>
         </div>
        <div class="col-md-3 column">
            <a th:href="'/moviedetail?mid='+${movielist[1].mid}"> <img alt="140x140"  height="240px" width="170px" class="img-rounded" th:src="${movielist[1].spic}"></a>

            <!--  <img class="layui-nav-img" th:src="${(user.avatarUrl != null && !#strings.isEmpty(user.avatarUrl)) ? '/asset/avatar/'+user.avatarUrl : '/asset/avatar/head_portrait2.png'}"/>
              <span th:text="${user.name}"></span>-->
            <ul class="list-unstyled" >
                <li>
                    <a th:href="'/moviedetail?mid='+${movielist[1].mid}"> <span th:text="${movielist[1].name}"></span></a>
                </li>
                <li>
                    导演：<span th:text="${movielist[1].directors}"></span>
                </li>
                <li>
                    演员：<span th:text="${movielist[1].actors}"></span>
                </li>
                <li>
                    制片国家/地区：<span th:text="${movielist[1].country}"></span>
                </li>
                <li>
                    语言：<span th:text="${movielist[1].language}"></span>
                </li>
                <li>
                    编剧：<span th:text="${movielist[1].writers}"></span>
                </li>
                <li>
                    上映时间：<span th:text="${movielist[1].year}"></span>
                </li>
                <li>
                    推荐度： <span th:text="${offlist[1]}"></span>
                </li>
            </ul>
        </div>
        <div class="col-md-3 column">
            <a th:href="'/moviedetail?mid='+${movielist[2].mid}"> <img alt="140x140"  height="240px" width="170px" class="img-rounded" th:src="${movielist[2].spic}"></a>

            <!--  <img class="layui-nav-img" th:src="${(user.avatarUrl != null && !#strings.isEmpty(user.avatarUrl)) ? '/asset/avatar/'+user.avatarUrl : '/asset/avatar/head_portrait2.png'}"/>
              <span th:text="${user.name}"></span>-->
            <ul class="list-unstyled" >
                <li>
                    <a th:href="'/moviedetail?mid='+${movielist[2].mid}"> <span th:text="${movielist[2].name}"></span></a>
                </li>
                <li>
                    导演：<span th:text="${movielist[2].directors}"></span>
                </li>
                <li>
                    演员：<span th:text="${movielist[2].actors}"></span>
                </li>
                <li>
                    制片国家/地区：<span th:text="${movielist[2].country}"></span>
                </li>
                <li>
                    语言：<span th:text="${movielist[2].language}"></span>
                </li>
                <li>
                    编剧：<span th:text="${movielist[2].writers}"></span>
                </li>
                <li>
                    上映时间：<span th:text="${movielist[2].year}"></span>
                </li>
                <li>
                    推荐度： <span th:text="${offlist[2]}"></span>
                </li>
            </ul>
        </div>
        <div class="col-md-3 column">
            <a th:href="'/moviedetail?mid='+${movielist[3].mid}"> <img alt="140x140"  height="240px" width="170px" class="img-rounded" th:src="${movielist[3].spic}"></a>

            <!--  <img class="layui-nav-img" th:src="${(user.avatarUrl != null && !#strings.isEmpty(user.avatarUrl)) ? '/asset/avatar/'+user.avatarUrl : '/asset/avatar/head_portrait2.png'}"/>
              <span th:text="${user.name}"></span>-->
            <ul class="list-unstyled" >
                <li>
                    <a th:href="'/moviedetail?mid='+${movielist[3].mid}"> <span th:text="${movielist[3].name}"></span></a>
                </li>
                <li>
                    导演：<span th:text="${movielist[3].directors}"></span>
                </li>
                <li>
                    演员：<span th:text="${movielist[3].actors}"></span>
                </li>
                <li>
                    制片国家/地区：<span th:text="${movielist[3].country}"></span>
                </li>
                <li>
                    语言：<span th:text="${movielist[3].language}"></span>
                </li>
                <li>
                    编剧：<span th:text="${movielist[3].writers}"></span>
                </li>
                <li>
                    上映时间：<span th:text="${movielist[3].year}"></span>
                </li>
                <li>
                    推荐度： <span th:text="${offlist[3]}"></span>
                </li>
            </ul>
        </div>


     </div><br>
     ​ <div class="row clearfix">
    <div class="col-md-3 column">
        <a th:href="'/moviedetail?mid='+${movielist[4].mid}"> <img alt="140x140"  height="240px" width="170px" class="img-rounded" th:src="${movielist[4].spic}"></a>

        <!--  <img class="layui-nav-img" th:src="${(user.avatarUrl != null && !#strings.isEmpty(user.avatarUrl)) ? '/asset/avatar/'+user.avatarUrl : '/asset/avatar/head_portrait2.png'}"/>
          <span th:text="${user.name}"></span>-->
        <ul class="list-unstyled" >
            <li>
                <a th:href="'/moviedetail?mid='+${movielist[4].mid}"> <span th:text="${movielist[4].name}"></span></a>
            </li>
            <li>
                导演：<span th:text="${movielist[4].directors}"></span>
            </li>
            <li>
                演员：<span th:text="${movielist[4].actors}"></span>
            </li>
            <li>
                制片国家/地区：<span th:text="${movielist[4].country}"></span>
            </li>
            <li>
                语言：<span th:text="${movielist[4].language}"></span>
            </li>
            <li>
                编剧：<span th:text="${movielist[4].writers}"></span>
            </li>
            <li>
                上映时间：<span th:text="${movielist[4].year}"></span>
            </li>
            <li>
                推荐度： <span th:text="${offlist[4]}"></span>
            </li>
        </ul>
    </div>
    <div class="col-md-3 column">
        <a th:href="'/moviedetail?mid='+${movielist[5].mid}"> <img alt="140x140"  height="240px" width="170px" class="img-rounded" th:src="${movielist[5].spic}"></a>

        <!--  <img class="layui-nav-img" th:src="${(user.avatarUrl != null && !#strings.isEmpty(user.avatarUrl)) ? '/asset/avatar/'+user.avatarUrl : '/asset/avatar/head_portrait2.png'}"/>
          <span th:text="${user.name}"></span>-->
        <ul class="list-unstyled" >
            <li>
                <a th:href="'/moviedetail?mid='+${movielist[5].mid}"> <span th:text="${movielist[5].name}"></span></a>
            </li>
            <li>
                导演：<span th:text="${movielist[5].directors}"></span>
            </li>
            <li>
                演员：<span th:text="${movielist[5].actors}"></span>
            </li>
            <li>
                制片国家/地区：<span th:text="${movielist[5].country}"></span>
            </li>
            <li>
                语言：<span th:text="${movielist[5].language}"></span>
            </li>
            <li>
                编剧：<span th:text="${movielist[5].writers}"></span>
            </li>
            <li>
                上映时间：<span th:text="${movielist[5].year}"></span>
            </li>
            <li>
                推荐度： <span th:text="${offlist[5]}"></span>
            </li>
        </ul>
    </div>
    <div class="col-md-3 column">
        <a th:href="'/moviedetail?mid='+${movielist[6].mid}"> <img alt="140x140"  height="240px" width="170px" class="img-rounded" th:src="${movielist[6].spic}"></a>

        <!--  <img class="layui-nav-img" th:src="${(user.avatarUrl != null && !#strings.isEmpty(user.avatarUrl)) ? '/asset/avatar/'+user.avatarUrl : '/asset/avatar/head_portrait2.png'}"/>
          <span th:text="${user.name}"></span>-->
        <ul class="list-unstyled" >
            <li>
                <a th:href="'/moviedetail?mid='+${movielist[6].mid}"> <span th:text="${movielist[6].name}"></span></a>
            </li>
            <li>
                导演：<span th:text="${movielist[6].directors}"></span>
            </li>
            <li>
                演员：<span th:text="${movielist[6].actors}"></span>
            </li>
            <li>
                制片国家/地区：<span th:text="${movielist[6].country}"></span>
            </li>
            <li>
                语言：<span th:text="${movielist[6].language}"></span>
            </li>
            <li>
                编剧：<span th:text="${movielist[6].writers}"></span>
            </li>
            <li>
                上映时间：<span th:text="${movielist[6].year}"></span>
            </li>
            <li>
                推荐度： <span th:text="${offlist[6]}"></span>
            </li>
        </ul>
    </div>
    <div class="col-md-3 column">
        <a th:href="'/moviedetail?mid='+${movielist[7].mid}"> <img alt="140x140"  height="240px" width="170px" class="img-rounded" th:src="${movielist[7].spic}"></a>

        <!--  <img class="layui-nav-img" th:src="${(user.avatarUrl != null && !#strings.isEmpty(user.avatarUrl)) ? '/asset/avatar/'+user.avatarUrl : '/asset/avatar/head_portrait2.png'}"/>
          <span th:text="${user.name}"></span>-->
        <ul class="list-unstyled" >
            <li>
                <a th:href="'/moviedetail?mid='+${movielist[7].mid}"> <span th:text="${movielist[7].name}"></span></a>
            </li>
            <li>
                导演：<span th:text="${movielist[7].directors}"></span>
            </li>
            <li>
                演员：<span th:text="${movielist[7].actors}"></span>
            </li>
            <li>
                制片国家/地区：<span th:text="${movielist[7].country}"></span>
            </li>
            <li>
                语言：<span th:text="${movielist[7].language}"></span>
            </li>
            <li>
                编剧：<span th:text="${movielist[7].writers}"></span>
            </li>
            <li>
                上映时间：<span th:text="${movielist[7].year}"></span>
            </li>
            <li>
                推荐度： <span th:text="${offlist[7]}"></span>
            </li>
        </ul>
    </div>


</div><br>
 </div>
<div>
    <h2>实时推荐结果</h2>
</div>
​<div class="container" >
    <div class="row clearfix">
        <div class="col-md-3 column" id="mvdiv0">
            <!--<a href="/moviedetail?mid=25983044"> <img alt="140x140"  height="240px" width="170px" class="img-rounded" src="https://images.weserv.nl/?url=img9.doubanio.com/view/photo/s_ratio_poster/public/p2391542403.jpg"></a>
-->
            <!--  <img class="layui-nav-img" th:src="${(user.avatarUrl != null && !#strings.isEmpty(user.avatarUrl)) ? '/asset/avatar/'+user.avatarUrl : '/asset/avatar/head_portrait2.png'}"/>
              <span th:text="${user.name}"></span>-->
            <ul class="list-unstyled" >
                <li class="li1">
                </li>
                <li >

                </li>
                <li>

                </li>
                <li>

                </li>
                <li>

                </li>
                <li>

                </li>
                <li>

                </li>
                <li>

                </li>
                <li>

                </li>
            </ul>
        </div>
        <div class="col-md-3 column" id="mvdiv1">

            <!--  <img class="layui-nav-img" th:src="${(user.avatarUrl != null && !#strings.isEmpty(user.avatarUrl)) ? '/asset/avatar/'+user.avatarUrl : '/asset/avatar/head_portrait2.png'}"/>
              <span th:text="${user.name}"></span>-->
            <ul class="list-unstyled" >
                <li class="li1">

                </li>
                <li >

                </li>
                <li>

                </li>
                <li>

                </li>
                <li>

                </li>
                <li>

                </li>
                <li>

                </li>
                <li>

                </li>
                <li>

                </li>
            </ul>
        </div>
        <div class="col-md-3 column" id="mvdiv2">

            <!--  <img class="layui-nav-img" th:src="${(user.avatarUrl != null && !#strings.isEmpty(user.avatarUrl)) ? '/asset/avatar/'+user.avatarUrl : '/asset/avatar/head_portrait2.png'}"/>
              <span th:text="${user.name}"></span>-->
            <ul class="list-unstyled" >
                <li class="li1">

                </li>
                <li >

                </li>
                <li>

                </li>
                <li>

                </li>
                <li>

                </li>
                <li>

                </li>
                <li>

                </li>
                <li>

                </li>
                <li>

                </li>
            </ul>
        </div>
        <div class="col-md-3 column" id="mvdiv3">

            <!--  <img class="layui-nav-img" th:src="${(user.avatarUrl != null && !#strings.isEmpty(user.avatarUrl)) ? '/asset/avatar/'+user.avatarUrl : '/asset/avatar/head_portrait2.png'}"/>
              <span th:text="${user.name}"></span>-->
            <ul class="list-unstyled" >
                <li class="li1">

                </li>
                <li >

                </li>
                <li>

                </li>
                <li>

                </li>
                <li>

                </li>
                <li>

                </li>
                <li>

                </li>
                <li>

                </li>
                <li>

                </li>
            </ul>
        </div>
    </div>
</div>
    <br>
</body>
</html>